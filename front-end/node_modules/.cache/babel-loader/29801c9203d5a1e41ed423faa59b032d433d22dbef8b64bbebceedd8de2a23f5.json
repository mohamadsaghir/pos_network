{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\moham\\\\Desktop\\\\offline-sub-clean\\\\front-end\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport \"../styles/Home.css\";\nimport TablePage from \"./TablePage\";\nimport { createDebt, updateDebt } from \"../utils/debtsService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Home({\n  editPerson,\n  setEditPerson\n}) {\n  _s();\n  const [formData, setFormData] = useState({\n    name: \"\",\n    phone: \"\",\n    boxName: \"\",\n    amount: \"\",\n    date: \"\"\n  });\n  const [editId, setEditId] = useState(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const tableRef = useRef(); // ๐ ูุฑุฌุน ููุฌุฏูู ูุงุณุชุฏุนุงุก ุงูุชุญุฏูุซ ูุงุญูุงู\n\n  useEffect(() => {\n    if (editPerson) {\n      setFormData({\n        name: editPerson.name,\n        phone: editPerson.phone,\n        boxName: editPerson.boxName,\n        amount: editPerson.amount,\n        date: editPerson.date\n      });\n      setEditId(editPerson._id);\n      setTimeout(() => setEditPerson(null), 0);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editPerson]);\n  const handleChange = e => setFormData({\n    ...formData,\n    [e.target.name]: e.target.value\n  });\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (isSubmitting) return;\n    setIsSubmitting(true);\n    try {\n      if (editId) {\n        const result = await updateDebt(editId, formData);\n        if (result.queued) {\n          alert(\"โ๏ธ ูุง ููุฌุฏ ุฅูุชุฑูุช. ุชู ุญูุธ ุงูุชุนุฏูู ูุญูููุง ูุณููุฑุณู ุชููุงุฆููุง ูุงุญููุง.\");\n        } else {\n          alert(\"โ ุชู ุชุนุฏูู ุงูุฒุจูู ุจูุฌุงุญ!\");\n        }\n        setEditId(null);\n      } else {\n        const result = await createDebt(formData);\n        if (result.queued) {\n          alert(\"โ๏ธ ูุง ููุฌุฏ ุฅูุชุฑูุช. ุชู ุญูุธ ุงูุฒุจูู ูุญูููุง ูุณููุฑุณู ุชููุงุฆููุง ูุงุญููุง.\");\n        } else {\n          alert(\"โ ุชูุช ุฅุถุงูุฉ ุงูุฒุจูู ุจูุฌุงุญ!\");\n        }\n      }\n\n      // ๐ ุชุญุฏูุซ ุงูุฌุฏูู ูุจุงุดุฑุฉ ุจุนุฏ ุงูุญูุธ\n      if (tableRef.current) {\n        tableRef.current.refreshTable();\n      }\n\n      // ุชุตููุฑ ุงูุญููู\n      setFormData({\n        name: \"\",\n        phone: \"\",\n        boxName: \"\",\n        amount: \"\",\n        date: \"\"\n      });\n    } catch (err) {\n      console.error(\"Error saving data:\", err);\n      alert(\"โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุญูุธ\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-glass\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: editId ? \"โ๏ธ ุชุนุฏูู ุงูุฒุจูู\" : \"๐งพ ุฅุถุงูุฉ ุฒุจูู ุฌุฏูุฏ\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"glass-form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          placeholder: \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0632\\u0628\\u0648\\u0646\",\n          value: formData.name,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"tel\",\n          name: \"phone\",\n          placeholder: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641\",\n          value: formData.phone,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"boxName\",\n          placeholder: \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0644\\u0628\\u0629\",\n          value: formData.boxName,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"amount\",\n          placeholder: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A $\",\n          value: formData.amount,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"date\",\n          value: formData.date,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn-submit\",\n          disabled: isSubmitting,\n          children: isSubmitting ? \"โณ ุฌุงุฑู ุงูุญูุธ...\" : editId ? \"๐พ ุญูุธ ุงูุชุนุฏูู\" : \"โ ุฅุถุงูุฉ\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TablePage, {\n      setEditPerson: setEditPerson,\n      ref: tableRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"fzdMBoYhZEmCwncwe6OnApA1gO8=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","useRef","TablePage","createDebt","updateDebt","jsxDEV","_jsxDEV","Home","editPerson","setEditPerson","_s","formData","setFormData","name","phone","boxName","amount","date","editId","setEditId","isSubmitting","setIsSubmitting","tableRef","_id","setTimeout","handleChange","e","target","value","handleSubmit","preventDefault","result","queued","alert","current","refreshTable","err","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","required","disabled","ref","_c","$RefreshReg$"],"sources":["C:/Users/moham/Desktop/offline-sub-clean/front-end/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport \"../styles/Home.css\";\nimport TablePage from \"./TablePage\";\nimport { createDebt, updateDebt } from \"../utils/debtsService\";\n\r\nfunction Home({ editPerson, setEditPerson }) {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    phone: \"\",\r\n    boxName: \"\",\r\n    amount: \"\",\r\n    date: \"\",\r\n  });\r\n\r\n  const [editId, setEditId] = useState(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const tableRef = useRef(); // ๐ ูุฑุฌุน ููุฌุฏูู ูุงุณุชุฏุนุงุก ุงูุชุญุฏูุซ ูุงุญูุงู\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    if (editPerson) {\r\n      setFormData({\r\n        name: editPerson.name,\r\n        phone: editPerson.phone,\r\n        boxName: editPerson.boxName,\r\n        amount: editPerson.amount,\r\n        date: editPerson.date,\r\n      });\r\n      setEditId(editPerson._id);\r\n      setTimeout(() => setEditPerson(null), 0);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [editPerson]);\r\n\r\n  const handleChange = (e) =>\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (isSubmitting) return;\n    setIsSubmitting(true);\n\n    try {\n      if (editId) {\n        const result = await updateDebt(editId, formData);\n        if (result.queued) {\n          alert(\"โ๏ธ ูุง ููุฌุฏ ุฅูุชุฑูุช. ุชู ุญูุธ ุงูุชุนุฏูู ูุญูููุง ูุณููุฑุณู ุชููุงุฆููุง ูุงุญููุง.\");\n        } else {\n          alert(\"โ ุชู ุชุนุฏูู ุงูุฒุจูู ุจูุฌุงุญ!\");\n        }\n        setEditId(null);\n      } else {\n        const result = await createDebt(formData);\n        if (result.queued) {\n          alert(\"โ๏ธ ูุง ููุฌุฏ ุฅูุชุฑูุช. ุชู ุญูุธ ุงูุฒุจูู ูุญูููุง ูุณููุฑุณู ุชููุงุฆููุง ูุงุญููุง.\");\n        } else {\n          alert(\"โ ุชูุช ุฅุถุงูุฉ ุงูุฒุจูู ุจูุฌุงุญ!\");\n        }\n      }\n\n      // ๐ ุชุญุฏูุซ ุงูุฌุฏูู ูุจุงุดุฑุฉ ุจุนุฏ ุงูุญูุธ\n      if (tableRef.current) {\n        tableRef.current.refreshTable();\r\n      }\r\n\r\n      // ุชุตููุฑ ุงูุญููู\r\n      setFormData({\n        name: \"\",\n        phone: \"\",\n        boxName: \"\",\n        amount: \"\",\n        date: \"\",\n      });\n    } catch (err) {\n      console.error(\"Error saving data:\", err);\n      alert(\"โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุญูุธ\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\r\n  return (\r\n    <div className=\"home-container\">\r\n      <div className=\"form-glass\">\r\n        <h2>{editId ? \"โ๏ธ ุชุนุฏูู ุงูุฒุจูู\" : \"๐งพ ุฅุถุงูุฉ ุฒุจูู ุฌุฏูุฏ\"}</h2>\r\n\r\n        <form className=\"glass-form\" onSubmit={handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            placeholder=\"ุงุณู ุงูุฒุจูู\"\r\n            value={formData.name}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          <input\r\n            type=\"tel\"\r\n            name=\"phone\"\r\n            placeholder=\"ุฑูู ุงููุงุชู\"\r\n            value={formData.phone}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"boxName\"\r\n            placeholder=\"ุงุณู ุงูุนูุจุฉ\"\r\n            value={formData.boxName}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            name=\"amount\"\r\n            placeholder=\"ุงููุจูุบ $\"\r\n            value={formData.amount}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          <input\r\n            type=\"date\"\r\n            name=\"date\"\r\n            value={formData.date}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n\r\n          <button type=\"submit\" className=\"btn-submit\" disabled={isSubmitting}>\n            {isSubmitting\n              ? \"โณ ุฌุงุฑู ุงูุญูุธ...\"\n              : editId\n              ? \"๐พ ุญูุธ ุงูุชุนุฏูู\"\n              : \"โ ุฅุถุงูุฉ\"}\n          </button>\n        </form>\r\n      </div>\r\n\r\n      {/* โ ุชูุฑูุฑ ุงููุฑุฌุน ููุฌุฏูู */}\r\n      <TablePage setEditPerson={setEditPerson} ref={tableRef} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}