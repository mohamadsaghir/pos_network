{"ast":null,"code":"const STORAGE_KEY = \"app_users\";\nconst safeParse = (value, fallback = []) => {\n  try {\n    const parsed = JSON.parse(value);\n    return Array.isArray(parsed) ? parsed : fallback;\n  } catch {\n    return fallback;\n  }\n};\nexport const loadUsers = () => {\n  if (typeof window === \"undefined\") return [];\n  const stored = window.localStorage.getItem(STORAGE_KEY);\n  return safeParse(stored);\n};\nexport const saveUsers = users => {\n  if (typeof window === \"undefined\") return;\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(users));\n};\nconst buildId = () => {\n  if (typeof crypto !== \"undefined\" && crypto.randomUUID) {\n    return crypto.randomUUID();\n  }\n  return `user_${Date.now()}_${Math.random().toString(36).slice(2, 8)}`;\n};\nexport const addUser = payload => {\n  const users = loadUsers();\n  const newUser = {\n    id: buildId(),\n    createdAt: new Date().toISOString(),\n    ...payload\n  };\n  users.push(newUser);\n  saveUsers(users);\n  return newUser;\n};\nexport const updateUser = (id, updates) => {\n  const users = loadUsers();\n  const next = users.map(user => user.id === id ? {\n    ...user,\n    ...updates,\n    updatedAt: new Date().toISOString()\n  } : user);\n  saveUsers(next);\n  return next.find(user => user.id === id) || null;\n};\nexport const removeUser = id => {\n  const users = loadUsers();\n  const next = users.filter(user => user.id !== id);\n  saveUsers(next);\n  return next;\n};\nexport const getUserById = id => loadUsers().find(user => user.id === id) || null;","map":{"version":3,"names":["STORAGE_KEY","safeParse","value","fallback","parsed","JSON","parse","Array","isArray","loadUsers","window","stored","localStorage","getItem","saveUsers","users","setItem","stringify","buildId","crypto","randomUUID","Date","now","Math","random","toString","slice","addUser","payload","newUser","id","createdAt","toISOString","push","updateUser","updates","next","map","user","updatedAt","find","removeUser","filter","getUserById"],"sources":["C:/Users/moham/Desktop/offline-sub-clean/front-end/src/utils/userStorage.js"],"sourcesContent":["const STORAGE_KEY = \"app_users\";\n\nconst safeParse = (value, fallback = []) => {\n  try {\n    const parsed = JSON.parse(value);\n    return Array.isArray(parsed) ? parsed : fallback;\n  } catch {\n    return fallback;\n  }\n};\n\nexport const loadUsers = () => {\n  if (typeof window === \"undefined\") return [];\n  const stored = window.localStorage.getItem(STORAGE_KEY);\n  return safeParse(stored);\n};\n\nexport const saveUsers = (users) => {\n  if (typeof window === \"undefined\") return;\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(users));\n};\n\nconst buildId = () => {\n  if (typeof crypto !== \"undefined\" && crypto.randomUUID) {\n    return crypto.randomUUID();\n  }\n  return `user_${Date.now()}_${Math.random().toString(36).slice(2, 8)}`;\n};\n\nexport const addUser = (payload) => {\n  const users = loadUsers();\n  const newUser = {\n    id: buildId(),\n    createdAt: new Date().toISOString(),\n    ...payload,\n  };\n  users.push(newUser);\n  saveUsers(users);\n  return newUser;\n};\n\nexport const updateUser = (id, updates) => {\n  const users = loadUsers();\n  const next = users.map((user) =>\n    user.id === id ? { ...user, ...updates, updatedAt: new Date().toISOString() } : user\n  );\n  saveUsers(next);\n  return next.find((user) => user.id === id) || null;\n};\n\nexport const removeUser = (id) => {\n  const users = loadUsers();\n  const next = users.filter((user) => user.id !== id);\n  saveUsers(next);\n  return next;\n};\n\nexport const getUserById = (id) => loadUsers().find((user) => user.id === id) || null;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}